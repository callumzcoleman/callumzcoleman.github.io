<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Callum Z. Coleman — Minimalist Portfolio</title>
  <meta name="description" content="Callum Z. Coleman — writer and researcher. CV and Substack." />
  <style>
    /* Dark, professional theme */
    :root{
      --bg:#0b0f14;
      --surface:#0f1720;
      --card:#0f1726;
      --muted:#9aa6b2;
      --text:#e6eef3;
      --accent:#6fd0ff;
      --radius:12px;
      --max-width:960px;
      --gap:16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Helvetica,Arial;line-height:1.5;background:var(--bg);color:var(--text)}
    .wrap{max-width:var(--max-width);margin:36px auto;padding:28px}
    header{display:flex;align-items:center;gap:18px}
    .avatar{width:88px;height:88px;border-radius:14px;overflow:hidden;flex:0 0 88px;background:linear-gradient(135deg,#07101a,#0b1320);display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.03)}
    .avatar img{width:100%;height:100%;object-fit:cover;display:block}
    h1{font-size:1.5rem;margin:0;font-weight:600}
    p.lead{margin:6px 0 0;color:var(--muted);font-size:0.98rem}

    /* Tabs */
    .tabs{margin-top:22px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);overflow:hidden;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent)}
    .tab-list{display:flex;gap:0;border-bottom:1px solid rgba(255,255,255,0.02)}
    .tab{flex:1;padding:12px 14px;text-align:center;cursor:pointer;background:transparent;border:0;font-weight:600;color:var(--muted)}
    .tab[aria-selected="true"]{color:var(--text);background:linear-gradient(180deg,rgba(111,173,190,0.03),transparent)}
    .tab-panels{padding:20px}

    /* CV */
    .cv-wrap{display:flex;flex-direction:column;gap:12px}
    .cv-actions{display:flex;gap:8px;flex-wrap:wrap}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;text-decoration:none;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--text);font-weight:600}

    /* Posts list */
    .posts{display:flex;flex-direction:column;gap:12px}
    .post{display:flex;gap:12px;align-items:flex-start;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02)}
    .post-thumb{width:110px;height:70px;flex:0 0 110px;border-radius:8px;overflow:hidden;background:linear-gradient(135deg,#07101a,#0b1320);display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.02)}
    .post-thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .post-body{flex:1}
    .post-title{margin:0 0 6px;font-size:1rem;color:var(--text)}
    .post-title a{text-decoration:none;color:inherit}
    .post-meta{font-size:0.86rem;color:var(--muted)}

    /* Placeholder thumbnail */
    .thumb-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.07);font-size:20px}

    footer{margin-top:24px;color:var(--muted);font-size:0.9rem;text-align:center}

    @media(max-width:720px){
      .post{flex-direction:row}
      .post-thumb{width:96px;height:64px}
      .wrap{padding:18px;margin:18px auto}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="avatar" id="avatar">
        <img src="photo.jpg" alt="Callum Z. Coleman" id="profile-photo" onerror="this.style.objectPosition='center';this.alt='Your photo'" />
      </div>
      <div>
        <h1>Callum Z. Coleman</h1>
        <p class="lead">Writer • Researcher • Minimalist</p>
      </div>
    </header>

    <div class="tabs" role="tablist" aria-label="Main tabs">
      <div class="tab-list" role="presentation">
        <button class="tab" role="tab" id="tab-about" aria-selected="false" aria-controls="panel-about">About</button>
        <button class="tab" role="tab" id="tab-cv" aria-selected="true" aria-controls="panel-cv">CV</button>
        <button class="tab" role="tab" id="tab-posts" aria-selected="false" aria-controls="panel-posts">Latest posts</button>
      </div>

      <div class="tab-panels">
        <section id="panel-about" role="tabpanel" hidden aria-labelledby="tab-about">
          <p>Hello — I write about education, courses, and research. This site links to my Substack and CV.</p>
          <p>Location: — • Email: <a href="mailto:callum@example.com">callum@example.com</a></p>
        </section>

        <section id="panel-cv" role="tabpanel" aria-labelledby="tab-cv">
          <div class="cv-wrap">
            <p>You can download or view my CV below.</p>
            <div class="cv-actions">
              <a id="cv-download" class="btn" href="resume.pdf" target="_blank" rel="noopener">Download CV (PDF)</a>
              <button id="cv-view" class="btn">Toggle view</button>
            </div>
            <div id="cv-frame" style="display:block;margin-top:12px;min-height:420px;border-radius:8px;overflow:hidden;border:1px solid rgba(255,255,255,0.02)">
              <iframe id="cv-iframe" src="resume.pdf" style="width:100%;height:560px;border:0" title="CV (PDF)"></iframe>
            </div>
          </div>
        </section>

        <section id="panel-posts" role="tabpanel" hidden aria-labelledby="tab-posts">
          <div id="posts-container">
            <p class="post-meta">Loading latest posts…</p>
          </div>
          <p style="margin-top:12px;color:var(--muted);font-size:0.9rem">If posts don't load due to CORS, tell me and I’ll give a tiny serverless function to fetch the feed server-side.</p>
        </section>
      </div>
    </div>

    <footer>
      <small>© <span id="year"></span> Callum Z. Coleman</small>
    </footer>
  </div>

  <script>
    // CONFIG
    const SUBSTACK_BASE = 'https://courseconditions.substack.com';
    const RSS2JSON_PROXY = 'https://api.rss2json.com/v1/api.json?rss_url='; // fallback proxy

    // DOM helpers & tab behaviour
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('year').textContent = new Date().getFullYear();

      const tabs = Array.from(document.querySelectorAll('.tab'));
      const panels = Array.from(document.querySelectorAll('[role="tabpanel"]'));

      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => t.setAttribute('aria-selected','false'));
          panels.forEach(p => p.hidden = true);
          tab.setAttribute('aria-selected','true');
          const panel = document.getElementById(tab.getAttribute('aria-controls'));
          if(panel) panel.hidden = false;
          if(tab.id === 'tab-posts') loadPosts();
        });
      });

      document.getElementById('cv-view').addEventListener('click', () => {
        const wrap = document.getElementById('cv-frame');
        wrap.style.display = wrap.style.display === 'none' ? 'block' : 'none';
      });

      const avatarImg = document.getElementById('profile-photo');
      avatarImg.addEventListener('error', ()
