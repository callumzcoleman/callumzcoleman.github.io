<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Callum Coleman</title>
  <meta name="description" content="Callum Coleman ‚Äî Oxford-based policy professional and runner." />

  <style>
    :root{
      --bg:#0b0f14;
      --surface:#0f1720;
      --card:#0f1726;
      --text:#e6eef3;
      --muted:#9aa6b2;
      --accent:#6fd0ff;
      --radius:12px;
      --max-width:960px;
    }

    *{box-sizing:border-box}
    html,body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      line-height:1.55;
    }

    .wrap{
      max-width:var(--max-width);
      margin:40px auto;
      padding:28px;
    }

    header{
      display:flex;
      gap:20px;
      align-items:center;
    }

    .avatar{
      width:88px;
      height:88px;
      border-radius:14px;
      overflow:hidden;
      background:#111;
      border:1px solid rgba(255,255,255,0.05);
    }

    .avatar img{
      width:100%;
      height:100%;
      object-fit:cover;
    }

    h1{
      margin:0;
      font-size:1.6rem;
      font-weight:600;
    }

    .lead{
      margin-top:6px;
      color:var(--muted);
      font-size:1rem;
    }

    /* Tabs */
    .tabs{
      margin-top:28px;
      background:linear-gradient(180deg,rgba(255,255,255,0.03),transparent);
      border:1px solid rgba(255,255,255,0.05);
      border-radius:16px;
      overflow:hidden;
    }

    .tab-list{
      display:flex;
      border-bottom:1px solid rgba(255,255,255,0.04);
    }

    .tab{
      flex:1;
      padding:14px;
      background:none;
      border:0;
      color:var(--muted);
      font-weight:600;
      cursor:pointer;
    }

    .tab[aria-selected="true"]{
      color:var(--text);
      background:rgba(255,255,255,0.04);
    }

    .tab-panels{
      padding:24px;
    }

    a{color:var(--accent)}

    /* CV styles */
    .cv-actions{margin-top:22px;margin-bottom:8px}
    .btn{
      display:inline-block;
      padding:10px 14px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.08);
      color:var(--text);
      text-decoration:none;
      font-weight:600;
    }
    .cv-section{margin-bottom:26px}
    .cv-section h3{
      margin:0 0 10px;
      font-size:1.05rem;
      border-bottom:1px solid rgba(255,255,255,0.04);
      padding-bottom:8px;
    }
    .role{margin-bottom:16px}
    .role-title{font-weight:600}
    .role-meta{color:var(--muted);font-size:0.9rem;margin-bottom:6px}
    ul{margin:6px 0 0 18px;padding:0}
    li{margin-bottom:6px}

    /* Writing posts */
    .posts{display:flex;flex-direction:column;gap:12px;margin-top:6px}
    .post{display:flex;gap:12px;align-items:flex-start;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02)}
    .post-thumb{width:110px;height:70px;flex:0 0 110px;border-radius:8px;overflow:hidden;background:linear-gradient(135deg,#07101a,#0b1320);display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.02)}
    .post-thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .post-body{flex:1}
    .post-title{margin:0 0 6px;font-size:1rem;color:var(--text)}
    .post-title a{text-decoration:none;color:inherit}
    .post-meta{font-size:0.86rem;color:var(--muted)}
    .thumb-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.07);font-size:20px}

    footer{
      margin-top:28px;
      text-align:center;
      color:var(--muted);
      font-size:0.9rem;
    }

    @media(max-width:700px){
      .wrap{padding:20px}
      .post-thumb{width:96px;height:64px}
    }

  </style>
</head>
<body>

<div class="wrap">
  <header>
    <div class="avatar">
      <img src="photo.jpg" alt="Callum Coleman">
    </div>
    <div>
      <h1>Callum Coleman</h1>
      <div class="lead">Oxford-based policy professional, writer, runner/race director.</div>
    </div>
  </header>

  <div class="tabs" role="tablist">
    <div class="tab-list">
      <button class="tab" aria-selected="true" aria-controls="about" type="button">About</button>
      <button class="tab" aria-selected="false" aria-controls="cv" type="button">CV</button>
      <button class="tab" aria-selected="false" aria-controls="writing" type="button">Writing</button>
    </div>

    <div class="tab-panels">
      <!-- ABOUT -->
      <section id="about">
        <p>I‚Äôm an experienced public affairs professional with a track-record of influencing government policy in highly-regulated sectors.</p>

        <p>My background and expertise is in tech, energy, transport, and innovation policy.</p>

        <p>
          When not working I run and write. See thoughts on tech, running, and life
          <a href="https://courseconditions.substack.com" target="_blank" rel="noopener">on my newsletter</a>.
        </p>

        <p>
          <a href="mailto:callumzcoleman@gmail.com">Email</a> ¬∑
          <a href="https://www.linkedin.com/in/callum-coleman-3382521ba/" target="_blank" rel="noopener">LinkedIn</a>
        </p>
      </section>

      <!-- CV -->
      <section id="cv" hidden>
        <div class="cv-section">
          <h3>Professional Experience</h3>

          <div class="role">
            <div class="role-title">Public Affairs Manager ‚Äî University of Oxford</div>
            <div class="role-meta">August 2025 ‚Äì present</div>
            <ul>
              <li>Public affairs lead for Equitable Innovation Oxford, working closely with HMT.</li>
              <li>Developed Equinox‚Äôs first public affairs strategy across tech, AI, energy and finance.</li>
            </ul>
          </div>

          <div class="role">
            <div class="role-title">Senior Policy & Public Affairs Officer ‚Äî Citizens Advice</div>
            <div class="role-meta">August 2024 ‚Äì August 2025</div>
            <ul>
              <li>Led public affairs strategy in the energy team; influenced heat networks regulation.</li>
              <li>Built stakeholder networks across government, regulators, and business.</li>
              <li>Managed end-to-end policy workstreams and line-managed colleagues.</li>
            </ul>
          </div>

          <div class="role">
            <div class="role-title">Public Affairs Lead ‚Äî Living Streets</div>
            <div class="role-meta">Nov 2022 ‚Äì May 2024</div>
            <ul>
              <li>Built and scaled an external affairs team; developed parliamentary network.</li>
              <li>Secured ¬£10m+ funding and acted as spokesperson at conferences and committees.</li>
              <li>Organised three flagship conferences (400+ attendees).</li>
            </ul>
          </div>

          <div class="role">
            <div class="role-title">Policy Analyst ‚Äî Association of Renewable Energy & Clean Technology</div>
            <div class="role-meta">Jan 2022 ‚Äì Nov 2022</div>
            <ul>
              <li>Policy lead on power and flexibility; managed a 300-member forum.</li>
              <li>Successfully influenced government policy to remove VAT on energy storage.</li>
            </ul>
          </div>

          <div class="role">
            <div class="role-title">Analyst ‚Äî Oxford University Silk Road Think Tank</div>
            <div class="role-meta">2019 ‚Äì 2022</div>
            <ul>
              <li>Led and scaled a research team on Chinese power investments.</li>
            </ul>
          </div>

          <div class="role">
            <div class="role-title">School Governor ‚Äî The Grove Free School</div>
            <div class="role-meta">2022 ‚Äì 2024</div>
            <ul>
              <li>Scrutinised strategy and policy as a board member of a SEND school.</li>
            </ul>
          </div>
        </div>

        <div class="cv-section">
          <h3>Education</h3>

          <div class="role">
            <div class="role-title">MLitt Modern History ‚Äî University of St Andrews</div>
            <div class="role-meta">Distinction; Stephen W. Bonarjee Prize (top of cohort)</div>
          </div>

          <div class="role">
            <div class="role-title">BA History & Politics ‚Äî University of Oxford</div>
            <div class="role-meta">First-class / scholarship</div>
          </div>
        </div>

        <div class="cv-section">
          <h3>Other</h3>
          <ul>
            <li>AI safety policy courses (Bluedot; GCP), 2025.</li>
            <li>Author of <em>Course Conditions</em> ‚Äî courseconditions.substack.com</li>
          </ul>
        </div>

        <!-- Download button moved to bottom of CV -->
        <div class="cv-actions">
          <a class="btn" href="resume.pdf" target="_blank" rel="noopener">Download CV (PDF)</a>
        </div>
      </section>

      <!-- WRITING -->
      <section id="writing" hidden>
        <div id="posts-container"><p class="post-meta">Loading latest posts‚Ä¶</p></div>
        <p style="margin-top:12px;color:var(--muted);font-size:0.9rem">If posts don't load due to CORS, tell me and I‚Äôll provide a tiny serverless function to fetch the feed server-side.</p>
      </section>
    </div>
  </div>

  <footer>
    ¬© <span id="year"></span> Callum Coleman
  </footer>
</div>

<script>
  // CONFIG
  const SUBSTACK_BASE = 'https://courseconditions.substack.com';
  const RSS2JSON_PROXY = 'https://api.rss2json.com/v1/api.json?rss_url=';

  // Robust tabs + ensure About default
  (function(){
    document.querySelectorAll('.tab').forEach(btn => btn.setAttribute('type','button'));

    function showPanel(name){
      document.querySelectorAll('.tab').forEach(t => t.setAttribute('aria-selected','false'));
      document.querySelectorAll('.tab-panels > section').forEach(s => s.hidden = true);
      const tab = document.querySelector('.tab[aria-controls="'+name+'"]');
      const panel = document.getElementById(name);
      if(tab) tab.setAttribute('aria-selected','true');
      if(panel) panel.hidden = false;
    }

    const tabList = document.querySelector('.tab-list');
    if(tabList){
      tabList.addEventListener('click', (e) => {
        const btn = e.target.closest('.tab');
        if(!btn) return;
        const target = btn.getAttribute('aria-controls');
        if(target){
          showPanel(target);
          if(target === 'writing') loadPosts();
        }
      });
    }

    document.addEventListener('keydown', (e) => {
      if(!['ArrowLeft','ArrowRight'].includes(e.key)) return;
      const tabs = Array.from(document.querySelectorAll('.tab'));
      const idx = tabs.findIndex(t => t.getAttribute('aria-selected') === 'true');
      if(idx === -1) return;
      let next = idx + (e.key === 'ArrowRight' ? 1 : -1);
      if(next < 0) next = tabs.length - 1;
      if(next >= tabs.length) next = 0;
      const name = tabs[next].getAttribute('aria-controls');
      if(name) showPanel(name);
      tabs[next].focus();
    });

    if(document.readyState === 'complete' || document.readyState === 'interactive'){
      showPanel('about');
    } else {
      document.addEventListener('DOMContentLoaded', () => showPanel('about'));
    }
  })();

  // POSTS loader (direct fetch then proxy fallback)
  let postsLoaded = false;
  async function loadPosts(){
    if(postsLoaded) return;
    postsLoaded = true;
    const container = document.getElementById('posts-container');
    container.innerHTML = '<p class="post-meta">Loading latest posts‚Ä¶</p>';

    function renderPosts(posts){
      const list = document.createElement('div');
      list.className = 'posts';
      posts.forEach(p => {
        const article = document.createElement('article');
        article.className = 'post';

        const thumbWrap = document.createElement('div');
        thumbWrap.className = 'post-thumb';
        if(p.thumb){
          const img = document.createElement('img');
          img.src = p.thumb;
          img.alt = '';
          img.onerror = () => { thumbWrap.innerHTML = '<div class="thumb-placeholder">üñºÔ∏è</div>'; };
          thumbWrap.appendChild(img);
        } else {
          thumbWrap.innerHTML = '<div class="thumb-placeholder">üñºÔ∏è</div>';
        }

        const body = document.createElement('div');
        body.className = 'post-body';
        const h3 = document.createElement('h3');
        h3.className = 'post-title';
        h3.innerHTML = `<a href="${escapeHtml(p.link)}" target="_blank" rel="noopener">${escapeHtml(p.title)}</a>`;
        const meta = document.createElement('div');
        meta.className = 'post-meta';
        meta.textContent = p.pubDate ? new Date(p.pubDate).toLocaleDateString() : '';

        body.appendChild(h3);
        body.appendChild(meta);

        article.appendChild(thumbWrap);
        article.appendChild(body);
        list.appendChild(article);
      });
      container.innerHTML = '';
      container.appendChild(list);
    }

    // try direct RSS fetch
    try {
      const feedUrl = SUBSTACK_BASE + '/feed';
      const res = await fetch(feedUrl);
      if(!res.ok) throw new Error('Direct fetch failed');
      const text = await res.text();
      const parser = new DOMParser();
      const xml = parser.parseFromString(text, 'text/xml');
      const items = Array.from(xml.querySelectorAll('item')).slice(0,8);
      if(items.length === 0) throw new Error('No items in feed');
      const posts = items.map(item => {
        const title = item.querySelector('title')?.textContent || 'Untitled';
        const link = item.querySelector('link')?.textContent || '#';
        const pubDate = item.querySelector('pubDate')?.textContent || '';
        let thumb = null;
        const mediaContent = item.querySelector('media\\:content, content, mediacontent');
        if(mediaContent && mediaContent.getAttribute) thumb = mediaContent.getAttribute('url') || mediaContent.getAttribute('src');
        const mediaThumb = item.querySelector('media\\:thumbnail, mediathumbnail, thumbnail');
        if(!thumb && mediaThumb && mediaThumb.getAttribute) thumb = mediaThumb.getAttribute('url') || mediaThumb.getAttribute('src');
        const enclosure = item.querySelector('enclosure');
        if(!thumb && enclosure && enclosure.getAttribute){
          const type = enclosure.getAttribute('type') || '';
          const href = enclosure.getAttribute('url') || enclosure.getAttribute('href') || enclosure.getAttribute('link');
          if(href && type && type.startsWith('image')) thumb = href;
        }
        if(!thumb){
          const contentEncoded = item.querySelector('content\\:encoded') || item.querySelector('encoded') || item.querySelector('description');
          if(contentEncoded && contentEncoded.textContent){
            const match = contentEncoded.textContent.match(/<img[^>]+src=["']([^"']+)["']/i);
            if(match) thumb = match[1];
          }
        }
        return { title, link, pubDate, thumb };
      });
      renderPosts(posts);
      return;
    } catch (err) {
      console.warn('Direct fetch failed, trying proxy:', err);
    }

    // proxy fallback
    try {
      const proxyUrl = RSS2JSON_PROXY + encodeURIComponent(SUBSTACK_BASE + '/feed');
      const r = await fetch(proxyUrl);
      if(!r.ok) throw new Error('Proxy failed');
      const data = await r.json();
      const items = (data.items || []).slice(0,8);
      const posts = items.map(it => {
        let thumb = it.thumbnail || it.image || (it.enclosure && it.enclosure.link) || null;
        if(!thumb && it.content) {
          const m = it.content.match(/<img[^>]+src=["']([^"']+)["']/i);
          if(m) thumb = m[1];
        }
        return { title: it.title || 'Untitled', link: it.link || '#', pubDate: it.pubDate || it.pubDate_raw || '', thumb };
      });
      renderPosts(posts);
      return;
    } catch (proxyErr) {
      console.warn('Proxy also failed', proxyErr);
    }

    container.innerHTML = '<p class="post-meta">Unable to load posts automatically. Ask me and I can provide a tiny serverless function to fetch your feed server-side for guaranteed results.</p>';
  }

  function escapeHtml(s){ return (s||'').toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

  // set year
  document.getElementById('year').textContent = new Date().getFullYear();
</script>

</body>
</html>


