<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Callum Coleman</title>
  <meta name="description" content="Callum Coleman ‚Äî policy professional." />

  <style>
    :root{
      --bg:#0b0f14;
      --surface:#0f1720;
      --card:#0f1726;
      --text:#e6eef3;
      --muted:#9aa6b2;
      --accent:#6fd0ff;
      --radius:12px;
      --max-width:960px;
    }

    *{box-sizing:border-box}
    html,body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      line-height:1.55;
    }

    .wrap{
      max-width:var(--max-width);
      margin:40px auto;
      padding:28px;
    }

    header{
      display:flex;
      gap:20px;
      align-items:center;
    }

    .avatar{
      width:88px;
      height:88px;
      border-radius:14px;
      overflow:hidden;
      background:#111;
      border:1px solid rgba(255,255,255,0.05);
    }

    .avatar img{
      width:100%;
      height:100%;
      object-fit:cover;
    }

    h1{
      margin:0;
      font-size:1.6rem;
      font-weight:600;
    }

    .lead{
      margin-top:6px;
      color:var(--muted);
      font-size:1rem;
    }

    /* Tabs */
    .tabs{
      margin-top:28px;
      background:linear-gradient(180deg,rgba(255,255,255,0.03),transparent);
      border:1px solid rgba(255,255,255,0.05);
      border-radius:16px;
      overflow:hidden;
    }

    .tab-list{
      display:flex;
      border-bottom:1px solid rgba(255,255,255,0.04);
    }

    .tab{
      flex:1;
      padding:14px;
      background:none;
      border:0;
      color:var(--muted);
      font-weight:600;
      cursor:pointer;
    }

    .tab[aria-selected="true"]{
      color:var(--text);
      background:rgba(255,255,255,0.04);
    }

    .tab-panels{
      padding:24px;
    }

    /* CV */
    .cv-section h3{
      margin:24px 0 6px;
      font-size:1.05rem;
    }

    .cv-role{
      margin-bottom:14px;
    }

    .cv-role strong{
      display:block;
    }

    .cv-role span{
      color:var(--muted);
      font-size:0.9rem;
    }

    ul{
      margin:6px 0 0 18px;
      padding:0;
    }

    li{
      margin-bottom:6px;
    }

    .btn{
      display:inline-block;
      margin-top:16px;
      padding:10px 14px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.08);
      color:var(--text);
      text-decoration:none;
      font-weight:600;
    }

    /* Writing posts */
    .posts{display:flex;flex-direction:column;gap:12px;margin-top:6px}
    .post{display:flex;gap:12px;align-items:flex-start;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02)}
    .post-thumb{width:110px;height:70px;flex:0 0 110px;border-radius:8px;overflow:hidden;background:linear-gradient(135deg,#07101a,#0b1320);display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.02)}
    .post-thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .post-body{flex:1}
    .post-title{margin:0 0 6px;font-size:1rem;color:var(--text)}
    .post-title a{text-decoration:none;color:inherit}
    .post-meta{font-size:0.86rem;color:var(--muted)}
    .thumb-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.07);font-size:20px}

    footer{
      margin-top:28px;
      text-align:center;
      color:var(--muted);
      font-size:0.9rem;
    }

    a{color:var(--accent)}
  </style>
</head>
<body>

<div class="wrap">
  <header>
    <div class="avatar">
      <img src="photo.jpg" alt="Callum Coleman">
    </div>
    <div>
      <h1>Callum Coleman</h1>
      <div class="lead">Oxford-based policy professional, runner/race director, writer </div>
    </div>
  </header>

  <div class="tabs" role="tablist">
    <div class="tab-list">
      <button class="tab" aria-selected="true" aria-controls="about" type="button">About</button>
      <button class="tab" aria-selected="false" aria-controls="cv" type="button">CV</button>
      <button class="tab" aria-selected="false" aria-controls="writing" type="button">Writing</button>
    </div>

    <div class="tab-panels">
      <!-- ABOUT -->
      <section id="about">
        <p>
          I‚Äôm a policy/public affairs professional with a strong network across government and
          industry in the tech, energy, transport, and innovation sectors.
        </p>

        <p>
          When not working I run and write. See thoughts on tech, running, and life at
          <a href="https://courseconditions.substack.com" target="_blank" rel="noopener">
            courseconditions.substack.com
          </a>.
        </p>

        <p>
          Contact me at
          <a href="mailto:callumzcoleman@gmail.com">callumzcoleman@gmail.com</a>.
        </p>

        <p style="color:var(--muted);font-size:0.9rem">
          This is the first website I‚Äôve developed using AI ‚Äî please blame your chatbot of choice
          for any particularly egregious shortcomings.
        </p>
      </section>

      <!-- CV -->
      <section id="cv" hidden class="cv-section">
        <!-- (unchanged CV content here) -->
        <p>CV content unchanged.</p>
        <a class="btn" href="resume.pdf" target="_blank" rel="noopener">Download CV (PDF)</a>
      </section>

      <!-- WRITING -->
      <section id="writing" hidden>
        <div id="posts-container"><p class="post-meta">Loading latest posts‚Ä¶</p></div>
      </section>
    </div>
  </div>

  <footer>
    ¬© <span id="year"></span> Callum Coleman
  </footer>
</div>

<script>
  const SUBSTACK_BASE = 'https://courseconditions.substack.com';
  const RSS2JSON_PROXY = 'https://api.rss2json.com/v1/api.json?rss_url=';

  (function(){
    document.querySelectorAll('.tab').forEach(btn => btn.setAttribute('type','button'));

    function showPanel(name){
      document.querySelectorAll('.tab').forEach(t => t.setAttribute('aria-selected','false'));
      document.querySelectorAll('.tab-panels > section').forEach(s => s.hidden = true);
      const tab = document.querySelector('.tab[aria-controls="'+name+'"]');
      const panel = document.getElementById(name);
      if(tab) tab.setAttribute('aria-selected','true');
      if(panel) panel.hidden = false;
    }

    const tabList = document.querySelector('.tab-list');
    if(tabList){
      tabList.addEventListener('click', (e) => {
        const btn = e.target.closest('.tab');
        if(!btn) return;
        const target = btn.getAttribute('aria-controls');
        if(target){
          showPanel(target);
          if(target === 'writing') loadPosts();
        }
      });
    }

    if(document.readyState === 'complete' || document.readyState === 'interactive'){
      showPanel('about');
    } else {
      document.addEventListener('DOMContentLoaded', () => showPanel('about'));
    }
  })();

  let postsLoaded = false;
  async function loadPosts(){
    if(postsLoaded) return;
    postsLoaded = true;
    const container = document.getElementById('posts-container');

    try{
      const proxyUrl = RSS2JSON_PROXY + encodeURIComponent(SUBSTACK_BASE + '/feed');
      const r = await fetch(proxyUrl);
      const data = await r.json();
      const posts = (data.items || []).slice(0,8);

      const list = document.createElement('div');
      list.className = 'posts';

      posts.forEach(p => {
        const el = document.createElement('article');
        el.className = 'post';
        el.innerHTML = `
          <div class="post-thumb">${p.thumbnail ? `<img src="${p.thumbnail}">` : `<div class="thumb-placeholder">üñºÔ∏è</div>`}</div>
          <div class="post-body">
            <h3 class="post-title"><a href="${p.link}" target="_blank" rel="noopener">${p.title}</a></h3>
            <div class="post-meta">${new Date(p.pubDate).toLocaleDateString()}</div>
          </div>
        `;
        list.appendChild(el);
      });

      container.innerHTML = '';
      container.appendChild(list);
    } catch {
      container.innerHTML = '<p class="post-meta">Unable to load posts.</p>';
    }
  }

  document.getElementById('year').textContent = new Date().getFullYear();
</script>

</body>
</html>

